# 常见问题解答 (FAQ)

本章节为语料库系统使用过程中常见问题的标准化解答，旨在为系统用户提供准确的问题定位与解决方案指引。

---

## 通用问题

### "部门助手"和"校园助手"有什么区别？

理解两类助手的区别对于有效使用系统功能具有重要意义。

*   **部门助手**:
    *   **范围**：与一个**特定的语料库**绑定。当您与部门助手对话时，它只会从其绑定的那个语料库里查找答案。
    *   **用途**：提供专业、精确的领域知识。例如，“IT服务台助手”只会回答IT相关的问题，“财务报销助手”只会回答财务规定。
    *   **创建**：任何语料库都可以被全站管理员配置成一个部门助手。

*   **校园助手** (“港中深助手”):
    *   **范围**：**全局搜索**。它会同时在**所有**您有权访问的语料库（及其他公共信息源）中查找答案。
    *   **用途**：提供一站式的校园信息问答服务，当您不确定该去哪个专业语料库提问时，它是最佳选择。
    *   **创建**：这是一个全局单例功能，无需您手动创建。

**使用建议**：专业领域问题应选择**部门助手**，通用性问题或不确定归属的问题应选择**校园助手**。

---

## 权限管理

### "只读(Read)"和"仅检索(Retrieve)"权限到底有什么区别？

权限系统中存在两个关键概念，现通过图书馆管理模式进行说明：

*   **只读 (Read)** 权限就像是给了您一张**阅览证**。您可以走进图书馆，在书架上随意浏览、阅读任何一本书的全文。在系统中，这意味着您可以在左侧边栏看到这个语料库，并查看其中的所有文档列表和内容。

*   **仅检索 (Retrieve)** 权限就像是您去问**图书管理员**一个问题。管理员会根据他看过的所有书，给您一个精准的答案，但他不会让您自己进入书库去翻阅那些书。在系统中，这意味着您**看不到**这个语料库，也看不到它的文档列表，但当您使用“校园助手”进行全局搜索时，AI可以从这个“仅供检索”的库里找到内容来回答您的问题。

**系统价值**："仅检索"权限机制在保障语料库信息安全的前提下，显著扩展了"校园助手"的知识覆盖范围，实现多源知识融合。

### 权限审批机制说明

为确保企业知识资产安全，防止权限配置错误，系统针对普通语料库管理员的特定授权操作设置了审批机制。

以下情况需要**全站语料库管理员**审批后才能生效：  
1.  **大规模授权**：当您尝试将权限授予给一个**部门**、一个**身份群体**（如全体学生）或一个**复合规则**时。  
2.  **超额单用户授权**：当您想对同一个语料库授予超过 **20** 个独立的用户权限时。  

此外，每位用户最多只能有 **10** 个待审批的申请。

### 多权限冲突处理规则

系统采用**权限就高原则**进行权限冲突处理。

如果一个用户通过不同方式（例如，个人被授予`Read`权限，其所在部门被授予`Write`权限），那么系统会自动取ta能获得的**最高权限**。

**示例**：  

*   小明是“市场部”成员，市场部对“产品资料库”拥有 `Read` 权限。
*   同时，他的上级又单独授予了小明个人对“产品资料库”的 `Write` 权限。
*   最终，小明对“产品资料库”的实际权限是 `Write`（读写）。

### 全站管理员界面显示说明

系统为优化管理员操作体验，避免侧边栏信息过载，对界面显示进行了合理设计。

系统对全站管理员的界面进行了人性化设计：

*   **作为使用者**：在查看左侧边栏、使用校园助手时，系统会"忘记"您的管理员特权，只像普通用户一样，展示您被明确授予了权限或是您自己创建的语料库。
*   **作为管理者**：在"语料库管理"后台，您可以搜索、访问并管理系统中的任何一个语料库，行使您的全部管理职权。

---

## 检索与问答

### AI检索结果异常分析

当AI未能提供预期答案时，通常是由于检索环节存在问题。主要可能原因包括：

1.  **文档质量问题**：
    *   文档是扫描件或图片，系统 **OCR 识别**出的文字有错误或排版混乱。
    *   文档内容本身表达模糊，或您想查找的关键词在原文中是以同义词形式出现的。

2.  **检索配置问题**：
    *   `Top K` 值太低，导致相关的文档片段在第一轮筛选中就被排除了。
    *   `Rerank Cutoff`（重排截断分）设置过高，导致AI认为所有初筛的文档片段“不够相关”，直接放弃了回答。

3.  **查询指令不明确**：
    *   您的提问方式比较口语化，而文档内容非常书面化，导致语义匹配困难。

**解决方案**：  

*   **检查文档**：前往“文档列表”，查看该文档解析后的**内容**，确认文本是否清晰、准确。
*   **优化检索**：进入“检索测试”，尝试调整 `Top K` 和 `Rerank Cutoff` 等参数，并观察“返回的源文本”是否有改善。
*   **优化提示词**：在“检索测试”中，使用“查询改写提示词”来引导AI，将用户的口语化提问“翻译”成更接近文档的书面化语言。

> 详细的优化步骤，请参考《[检索优化指南](./retrieval-optimization-guide.md)》。

### 我可以让AI的回答风格更专业/简洁/有创意吗？

当然可以。

前往**管理后台** -> **语料库设置** -> **模型设置**，找到 **“应答生成提示词”** (`response_instructions`)。

您可以在这里为AI设定“人设”和“风格”。例如：  

*   **专业风格**：“你是一位严谨的法律顾问，请根据上下文，用正式、精确的语言回答问题。”
*   **简洁风格**：“请直接给出答案的核心要点，使用列表形式，不要有任何多余的解释。”
*   **活泼风格**：“你是一个热心的学长/学姐，请用轻松、口语化的方式回答新生的提问。”

---

## 内容管理

### “重新索引”一个文档会发生什么？

点击“重新索引”会触发系统对该文档进行一次全新的、完整的处理流程，就像是第一次上传它一样。这包括：  

1.  **重新解析**：文档智能服务会再次读取您的原始文件，将其转换为纯文本。
2.  **重新切块与向量化**：RAG服务会丢弃旧的知识节点，对新解析的文本进行切分、计算向量并存入数据库。

**何时使用？**  

*   当一个文档**上传失败**时。
*   当您更新了系统底层的**文档处理模型**，并希望用新模型处理旧文件时。
*   当您怀疑文档初次解析**内容有误**时。

### 给文档打标签会影响AI的检索结果吗？

**完全不会。**

标签（Tag）是一个纯粹的**管理工具**，它的唯一作用是帮助**您**在文档列表中快速地对文档进行分类、筛选和查找。

您可以把它理解为贴在文件袋上的彩色便签，它只影响您的管理效率，不影响文件袋里的内容，因此AI在检索和回答时会完全忽略它。 